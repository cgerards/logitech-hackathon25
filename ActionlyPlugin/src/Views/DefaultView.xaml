<UserControl x:Class="Loupedeck.ActionlyPlugin.Views.DefaultView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="clr-namespace:Loupedeck.ActionlyPlugin.Views"
             Width="400" Height="150" Padding="5">
    <StackPanel Margin="0,0,0,0" Background="Transparent">
        <!-- Header with Logo -->
        <Grid Margin="0,0,0,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Logo -->
            <Image Grid.Column="0" 
                   Width="50" 
                   Height="50" 
                   Margin="0,0,8,0"
                   VerticalAlignment="Top"
                   Source="actionly-logo.png"
                   Stretch="Uniform"/>

            <!-- Text -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="Welcome!" Foreground="White" FontWeight="Bold" FontSize="22"/>
                <TextBlock Text="Tell the Agent the task he should handle" Foreground="#FFD0D0D0"  FontSize="16" TextWrapping="Wrap" Margin="0,2,0,0"/>
            </StackPanel>



            <Button Grid.Column="2" x:Name="SettingsButton" Width="28" Height="22" HorizontalAlignment="Right" VerticalAlignment="Top"
        Margin="8,0,0,0" Padding="0" Background="Transparent" BorderBrush="Transparent" Click="SettingsButton_Click"
        ToolTip="Settings">
                <Grid>
                    <Ellipse Fill="Transparent" />
                    <!-- Simple gear icon using Path -->
                    <Path Data="M12 21a8.985 8.985 0 0 1-1.755-.173 1 1 0 0 1-.791-.813l-.273-1.606a6.933 6.933 0 0 1-1.32-.762l-1.527.566a1 1 0 0 1-1.1-.278 8.977 8.977 0 0 1-1.756-3.041 1 1 0 0 1 .31-1.092l1.254-1.04a6.979 6.979 0 0 1 0-1.524L3.787 10.2a1 1 0 0 1-.31-1.092 8.977 8.977 0 0 1 1.756-3.042 1 1 0 0 1 1.1-.278l1.527.566a6.933 6.933 0 0 1 1.32-.762l.274-1.606a1 1 0 0 1 .791-.813 8.957 8.957 0 0 1 3.51 0 1 1 0 0 1 .791.813l.273 1.606a6.933 6.933 0 0 1 1.32.762l1.527-.566a1 1 0 0 1 1.1.278 8.977 8.977 0 0 1 1.756 3.041 1 1 0 0 1-.31 1.092l-1.254 1.04a6.979 6.979 0 0 1 0 1.524l1.254 1.04a1 1 0 0 1 .31 1.092 8.977 8.977 0 0 1-1.756 3.041 1 1 0 0 1-1.1.278l-1.527-.566a6.933 6.933 0 0 1-1.32.762l-.273 1.606a1 1 0 0 1-.791.813A8.985 8.985 0 0 1 12 21zm-.7-2.035a6.913 6.913 0 0 0 1.393 0l.247-1.451a1 1 0 0 1 .664-.779 4.974 4.974 0 0 0 1.696-.975 1 1 0 0 1 1.008-.186l1.381.512a7.012 7.012 0 0 0 .7-1.206l-1.133-.939a1 1 0 0 1-.343-.964 5.018 5.018 0 0 0 0-1.953 1 1 0 0 1 .343-.964l1.124-.94a7.012 7.012 0 0 0-.7-1.206l-1.38.512a1 1 0 0 1-1-.186 4.974 4.974 0 0 0-1.688-.976 1 1 0 0 1-.664-.779l-.248-1.45a6.913 6.913 0 0 0-1.393 0l-.25 1.45a1 1 0 0 1-.664.779A4.974 4.974 0 0 0 8.7 8.24a1 1 0 0 1-1 .186l-1.385-.512a7.012 7.012 0 0 0-.7 1.206l1.133.939a1 1 0 0 1 .343.964 5.018 5.018 0 0 0 0 1.953 1 1 0 0 1-.343.964l-1.128.94a7.012 7.012 0 0 0 .7 1.206l1.38-.512a1 1 0 0 1 1 .186 4.974 4.974 0 0 0 1.688.976 1 1 0 0 1 .664.779zm.7-3.725a3.24 3.24 0 0 1 0-6.48 3.24 3.24 0 0 1 0 6.48zm0-4.48A1.24 1.24 0 1 0 13.24 12 1.244 1.244 0 0 0 12 10.76z"
              Fill="#FFD0D0D0" Width="16" Height="16" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="#22FFFFFF"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Button Grid.Column="3" x:Name="CloseTopButton" Width="28" Height="22" HorizontalAlignment="Right" VerticalAlignment="Top"
        Margin="0,0,0,0" Padding="0" Background="Transparent" BorderBrush="Transparent" Click="CloseButton_Click"
        ToolTip="Close">
                <Grid>
                    <Ellipse Fill="Transparent" />
                    <TextBlock Text="✕" Foreground="#FFD0D0D0" FontSize="15" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="#22FFFFFF"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>
        <!-- Text field with paperplane submit button -->
        <Grid Margin="5,2,5,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="36" />
            </Grid.ColumnDefinitions>

            <!-- Multiline textbox with placeholder -->
            <Grid Grid.Column="0">
                <TextBox x:Name="InnerInputTextBox" 
                         MinWidth="180" 
                         MinLines="3" 
                         AcceptsReturn="True" 
                         TextWrapping="Wrap" 
                         Background="#FF1E1E1E" 
                         Foreground="White" 
                         BorderBrush="#FF3E3E42" 
                         Padding="6" 
                         VerticalContentAlignment="Top"/>

                <!-- Placeholder text -->
                <TextBlock x:Name="PlaceholderText"
                           Text="Type your request here... (Ctrl+Enter to send)"
                           Foreground="#FF808080"
                           IsHitTestVisible="False"
                           Margin="8,8,8,0"
                           VerticalAlignment="Top">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Text, ElementName=InnerInputTextBox}" Value="">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>

            <!-- Send button -->
            <Button x:Name="SendButton" 
                    Grid.Column="1" 
                    Width="32" 
                    Height="28" 
                    Margin="6,0,0,0" 
                    ToolTip="Send (Ctrl+Enter)" 
                    Background="#FF2A8BF2" 
                    BorderBrush="#FF1F6FCF" 
                    Foreground="White" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center" 
                    Click="SendButton_Click"
                    IsEnabled="True"
                    AutomationProperties.Name="Send request">
                <Path Data="M2,21 L23,12 L2,3 L8,12 L2,21 Z" Fill="White" Stretch="Uniform" Width="14" Height="14" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <RotateTransform Angle="-35"/>
                    </Path.RenderTransform>
                </Path>
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Style.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.4"/>
                                <Setter Property="Cursor" Value="Arrow"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" Value="0.9"/>
                                <Setter Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.03" ScaleY="1.03"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>



        


    </StackPanel>
</UserControl>